
## 감상

ABC가 전부 좀 짜증나는 구현 문제여서 아쉬웠다. 좀 더 재밌는게 나왔으면 좋았을 것 같은데.. F번도 뭔가 귀찮은 구현이었고. 어쨌든 무난하게 잘 푼 거 같은데, H가 내가 잘 못하는 수학 문제였어서 못 푼게 아쉽다. 수학 공부를 좀 해야하는데..

## 타임라인

### 00:03 A AC

읽어보니 복잡한 고민 없이 단순 시뮬레이션으로 풀 수 있는 문제여서 그렇게 구현하고 AC. N, L이 전부 10만 단위여도 풀 수 있고 비슷한게 BOJ에 있었던 거 같은데.. 하는 생각이 스쳐지나갔다.

### 00:09 B AC

B번도 비슷하게 주어진 조건에 따라 wifi 영향력을 계산해서 최댓값만 찾아주면 되는 문제여서 그렇게 풀고 AC.

### 00:15 D AC

이 다음에, C를 읽어봤는데 뭔가 문제 이해가 잘 안 가서 일단 넘어가고 D를 읽었다. D는 읽어보니 냅색 문제랑 완전히 동일해서 바로 풀고 AC.

### 00:22 E AC

그리고 C를 볼까 E를 볼까 고민하다 일단 E를 읽어봤다. E도 지문에서 쓰인 경로 라는 용어가 좀 이상해서 고민을 했는데, 아무리 봐도 MST를 구하는 문제인 것 같아서 일단 MST 구하는 코드를 짜서 내보고 틀리면 C부터 풀고와서 다시 봐야지 생각한 후 제출. 맞아서 그냥 넘어갔지만 용어를 마음대로 재정의해서 쓰지는 않았으면 좋겠다..

### 00:40 F WA

그리고 F를 읽어보니 그냥 BFS 문제인데 구현이 꽤 까다로운 유형이었다. 이걸 풀까 C로 돌아갈까 고민하다 어차피 풀이는 아는데 그냥 먼저 짜는게 좋을 것 같아서, F를 열심히 구현후 제출. 하지만 WA..

### 00:49 F AC

각 방향이 다 나오게끔 테스트 케이스를 몇 개 짜다보니 이상한게 나와서 그걸로 틀린 부분을 고치고 AC.

### 00:53 C AC

G를 볼까 C를 볼까 하다 GH가 다 영어 문제여서 일단 C로 돌아왔다. 다시 읽어보고 좀 정리해보니 쉽게 구현할 수 있을 거 같아서 그걸 구현한 다음 AC를 받았다.

### 01:24 G WA

그 다음은 G번을 꽤 오래 고민했는데, 처음에는 플로우 문제인가 했다가 플로우로는 모델링이 잘 안돼서 이리저리 고민을 해봤다. 근데 조건을 잘 만지다보니 2-SAT 문제로 표현이 가능하겠다는 생각이 들었다. 오랜만에 구현을 하는 거여서 조금 애를 먹다가 겨우 구현후 제출했는데 AC.

### 01:24 G AC

코드를 확인해보니까 SCC를 구하는 내 템플릿 코드가 1번 정점부터 시작하는데, 코드 상에서 0번 정점도 사용하고 있었어서 그 부분을 고쳐서 AC를 맞았다.

### ~02:00

그 다음에 H를 읽어보고 좀 고민해봤는데 도저히 각이 안 나와서 포기하고 사람들 코드 어디를 틀렸나 어떻게 풀었나 염탐하면서 보냈다.

## 풀이

### A. 롤 케이크

문제에 주어진 조건에 따라 충실히 구현하면 $O(NL)$ 시간복잡도에 문제를 해결할 수 있다.

번외) $N, L$ 제한이 엄청 큰 경우, union-find를 응용해서 구할 수 있다. 이미 케이크 조각을 사용한 노드들을 하나로 머지하고, 머지할 때 루트를 제일 오른쪽 끝 노드로 정하면, 연속한 사용된 노드 집합을 $O(logL)$ 시간에 바로 건너뛸 수 있다. 또 한 번 사용한 노드는 다시 사용되지 않으므로, 이러한 방법으로 전체 문제를 $O(N + LlogL)$ 시간에 해결 가능. 구간 문제에서 이 비슷한 테크닉이 상당히 자주 나와서 기억해두면 좋다.

### B. 와이파이

$A$번이랑 비슷하게, 각 방마다 문제에서 주어진 조건에 맞춰 와이파이 세기를 구하고 그게 가장 큰 지점을 찾아주면 $O(N^2)$ 시간에 해결할 수 있다.

### C. 에어컨

에어컨이 꺼지는 시각을 순서대로 조건에 맞춰 전부 계산하고, $N$일째에 꺼지는 시간만 구해서 출력해주면 된다. 나는 주기를 편하게 구현하려고 처음 -3:00 시에 시작해서 +18, +3, +3 을 반복하는 형태로 구현했다(세번째 +3 을 하고 나면 +k분도 해주는 식).

### D. 최대 페이지 수

0/1 냅색으로 해결할 수 있다. 제한이 작아서 브루트포스로도 $O(M2^M)$ 에 해결이 가능하다.

### E. 나만 안되는 연애

W와 M을 연결하는 간선들만 남기고, 이 간선들을 이용한 MST를 찾으면 그게 답이다. $N,M$ 제한이 작아서 제곱 시간복잡도 알고리즘으로도 풀릴 것 같다.

### F. 과외맨

문제에서 주어진 조건을 만족하게끔 BFS를 잘 구현해주면 된다. 구현량이 좀 많고 규칙이 귀찮아서 정말 "잘" 구현해야 한다.

### G. TV Show Game

각 사람이 선택한 3개의 위치를 각각 $a,b,c$, 각각의 색깔을 $a_c, b_c, c_c$ 라고 하자. 셋 중 최소 두 개이상 맞아야한다는 조건을 수식으로 기술하면 아래와 같이 나타낼 수 있다.

$ (a == a_c \vee b == b_c) \wedge (a == a_c  \vee c == c_c) \wedge (b == b_c \vee c == c_c) $

두 개이상 틀렸을 경우 위 식은 False, 그 외의 경우 True를 만족함을 알 수 있다.

이 때 $a == a_c$ 부분을 바꿔서, a가 빨간색이어야하면 a = True, 파란색이어야하면 a = False 가 되어야 하는 걸로 생각할 수 있다. 그러면 세 지점을 세 개의 boolean 변수로 표현할 수 있고, 따라서 문제는 2-SAT 문제로 환원된다.

2-SAT을 $O(N+M)$ 에 해결하는 방법은 잘 알려져 있으므로 그 알고리즘을 그대로 이용해서 문제를 해결하면 된다.

### H. 삼각분할

풀이를 보고 풀었다. 완전 정수론만 가지고 푸는 방법이 있는 것 같은데 그건 모르겠어서 나한테 익숙한 세그먼트 트리를 이용하는 직관적인 풀이를 이용했다.

먼저, 삼각분할의 경우의 수는 카탈란 수와 같다는 사실을 이용하면, 아래의 점화식을 유도할 수 있다.

$C_0 = 0, C_n = \frac{2(2n-1)}{n+1}C_{n-1}$

$m$이 소수라면 문제가 아주 쉬워지지만, 소수가 아니어서 페르마 소정리를 못 쓰는 것 때문에 문제가 좀 어려워진다.

여기서 $C_i$를 소인수분해한 결과를 관리한다고 생각하면, $cnt_P$를 $C_i$가 소인수로 $P$를 몇 개 가지고 있는지를 나타내는 수로 표현할 수 있다.

이러면 곱셈을 할 때 이 $cnt_P$ 값을 적절히 증가시키고, 나눗셈을 할 때는 적절히 뺀 후 전체 결과에 대해 순서대로 곱셈을 하면서 $m$으로 나눈 나머지를 구해주면 나눗셈 없이 답을 구할 수 있다.

이러한 쿼리는 세그먼트 트리를 이용하면 쉽게 수행할 수 있고, 각 소인수 분해 과정에서 $O(logN)$의 시간이 필요하므로 $O(Nlog^2N)$ 시간에 문제를 해결할 수 있다. 세그먼트 트리의 활용 방법을 하나 더 배운 것 같다.

